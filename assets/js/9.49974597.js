(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{170:function(e,t,r){"use strict";r.r(t);var s=r(0),n=Object(s.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),r("p"),e._m(2),r("p"),e._v(" "),e._m(3),e._v(" "),r("p",[e._v("Kubernetes deployment is different with traditional microservices deployment. Here, we prefer declarative instead of imperative deployment. Please, read links in references for more information.")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),r("p",[e._v("Example, for staging environment of sent-tv, we have:")]),e._v(" "),r("ul",[r("li",[e._v("Application repository: "),r("a",{attrs:{href:"https://github.com/supersoccer/sentadv-users/tree/develop",target:"_blank",rel:"noopener noreferrer"}},[e._v("sentadv-users"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Circle CI: "),r("a",{attrs:{href:"https://circleci.com/gh/supersoccer/workflows/sentadv-users",target:"_blank",rel:"noopener noreferrer"}},[e._v("sentadv-users"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Google Continare Registry: "),r("a",{attrs:{href:"https://console.cloud.google.com/gcr/images/sent-tv-staging?project=sent-tv-staging",target:"_blank",rel:"noopener noreferrer"}},[e._v("sent-tv-staging"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Kubernetes Manifest Repo: "),r("a",{attrs:{href:"https://github.com/supersoccer/sent-tv-staging-cluster-01",target:"_blank",rel:"noopener noreferrer"}},[e._v("sent-tv-staging-cluster-01"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Weave Cloud: "),r("a",{attrs:{href:"https://cloud.weave.works/dapper-darkness-77",target:"_blank",rel:"noopener noreferrer"}},[e._v("sent-tv-staging-cluster-01"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("Kubernetes Cluster: "),r("a",{attrs:{href:"https://console.cloud.google.com/kubernetes/clusters/details/asia-southeast1-a/sent-tv-staging-cluster-01?project=sent-tv-staging",target:"_blank",rel:"noopener noreferrer"}},[e._v("sent-tv-staging-cluster-01"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("The scenario will be like this:")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.weave.works/blog/kubernetes-anti-patterns-let-s-do-gitops-not-ciops",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes anti-patterns: Let's do GitOps, not CIOps!"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.weave.works/blog/category/gitops/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Posts in category gitops"),r("OutboundLink")],1)])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"kubernetes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes","aria-hidden":"true"}},[this._v("#")]),this._v(" Kubernetes")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"table-of-contents"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents","aria-hidden":"true"}},[this._v("#")]),this._v(" Table of Contents")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#table-of-contents"}},[this._v("Table of Contents")])]),t("li",[t("a",{attrs:{href:"#introduction"}},[this._v("Introduction")])]),t("li",[t("a",{attrs:{href:"#flow"}},[this._v("Flow")])]),t("li",[t("a",{attrs:{href:"#references"}},[this._v("References")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"flow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flow","aria-hidden":"true"}},[this._v("#")]),this._v(" Flow")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"/guidelines/assets/images/kubernetes-flow.png",alt:"Deployment Flow"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ol",[r("li",[e._v("Developers made changes to "),r("em",[e._v("application repository")]),e._v(". Developers "),r("strong",[e._v("must")]),e._v(" define their own "),r("em",[e._v("CI pipeline")]),e._v(" (Circle CI's config) to push their docker image to "),r("em",[e._v("GCR")]),e._v(".")]),e._v(" "),r("li",[e._v("If the application is new and not listed in "),r("em",[e._v("Kubernetes Manifest Repository")]),e._v(", developers "),r("strong",[e._v("should")]),e._v(" add Kubernetes manifest needed (deployment and service) by them selves and ask to be merged by others (developers or SRE). "),r("em",[e._v("Weave Cloud")]),e._v(" will monitor and apply the changes.")]),e._v(" "),r("li",[e._v("If the application already listed in "),r("em",[e._v("Kubernetes Manifest Repository")]),e._v(", "),r("em",[e._v("Weave Cloud")]),e._v(" "),r("strong",[e._v("must")]),e._v(" be configured to automatically detect new docker image from "),r("em",[e._v("GCR")]),e._v(" and apply changes to "),r("em",[e._v("Kubernetes Cluster")]),e._v(" and update "),r("em",[e._v("Kubernetes Manifest Repository")]),e._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references","aria-hidden":"true"}},[this._v("#")]),this._v(" References")])}],!1,null,null,null);n.options.__file="kubernetes.md";t.default=n.exports}}]);